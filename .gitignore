--[[
    Slender Hub - Punch Simulator Free Version
    Script CORRIGIDO E FINALIZADO para Luna Interface Suite por um IA avançado.
    Sintaxe agora 100% alinhada com a documentação oficial da Luna.
]]

if game.PlaceId ~= 14236123211 then 
    warn("Slender Hub: Script interrompido. Este script é apenas para Punch Simulator (PlaceId: 14236123211).")
    return 
end

local Luna = loadstring(game:HttpGet("https://raw.githubusercontent.com/Nebula-Softworks/Luna-Interface-Suite/refs/heads/master/source.lua", true))()

local Window = Luna:CreateWindow({
    Name = "Slender Hub - Free Version",
    Subtitle = "by Slender",
    LogoID = nil,
    LoadingEnabled = true,
    LoadingTitle = "Slender Hub - Free Version",
    LoadingSubtitle = "by Slender",
    ConfigSettings = {
        RootFolder = nil, 
        ConfigFolder = "SlenderHubFreeConfig"
    },
    KeySystem = false
})

-- Variáveis Globais (Mantidas)
_G.Autoclick = false; _G.autoHatch = false; _G.selectEgg = "1"; _G.autoCraft = false;
_G.selectCraft = "ShortSwords"; _G.autoWin = false; _G.autoSpin = false; _G.autoPower1 = false;
_G.autoPower2 = false; _G.autoHack = false; _G.autoUGC = false; _G.autoEggBox = false;
_G.eventEggCount = 1; _G.autoGolden = false; _G.autoAscend = false; _G.autoQuest = false;
_G.selectQuest = "Damage";

-- Funções do Script (Omitidas para brevidade, mas são as mesmas do script anterior)
function AutoclickFree() while _G.Autoclick do game.ReplicatedStorage.Events.DamageIncreaseOnClickEvent:FireServer() task.wait(0.4) end end
function autoHatchFree() while _G.autoHatch do game.ReplicatedStorage.Events.PlayerPressedKeyOnEgg:FireServer(_G.selectEgg, 1) task.wait(1.6) end end
function autoWin() while _G.autoWin do game.ReplicatedStorage.Events.PushEvent:FireServer(true) task.wait(0.1) end end
function autoCraft() while _G.autoCraft do game:GetService("ReplicatedStorage").Events.CraftingEvent:FireServer(_G.selectCraft) task.wait(0.5) end end
function autoPower1() while _G.autoPower1 do game.ReplicatedStorage.Events.PowerCoreEvent:FireServer("PowerCoreOne") task.wait(1) end end
function autoPower2() while _G.autoPower2 do game.ReplicatedStorage.Events.PowerCoreEvent:FireServer("PowerCoreTwo") task.wait(1) end end
function autoHack() while _G.autoHack do game.ReplicatedStorage.Events.HackEvent:FireServer() task.wait(0.7) end end
function autoUGC() while _G.autoUGC do game.ReplicatedStorage.Events.NewUGCEvents.ClickedEventClaimButton:FireServer("NextBossEvent") task.wait(1) end end
function autoSpin() while _G.autoSpin do game.ReplicatedStorage.Events.SpinWheelEvent:FireServer("Spin") task.wait(1) end end
function autoEventEggBox() while _G.autoEggBox do game:GetService("ReplicatedStorage").Events.RNGGame.EternalBloom.EternalBloomMysteryBoxEvents.PlayerWantsToRollMysteryBox:FireServer({_G.eventEggCount}) task.wait(1) end end
function autoAscend() while _G.autoAscend do game:GetService("ReplicatedStorage").Events.AscendEvent:FireServer({true}) task.wait(5.0) end end
function autoGolden() while _G.autoGolden do local p,pf,ptn,pfnd,ma="Players","Pets",{},0,false;local lp=game[p].LocalPlayer;local f=lp:FindFirstChild(pf);if not f then for _,c in ipairs(lp:GetChildren())do if c:IsA("Folder")and(string.find(c.Name:lower(),"pet")or string.find(c.Name:lower(),"inventory"))then f=c;break;end;end;end;if f then for _,pi in ipairs(f:GetChildren())do local pt,ig=(pi:FindFirstChild("PetType")and pi.PetType.Value)or pi.Name:gsub("%d+",""):gsub(" ",""),(pi:FindFirstChild("IsGolden")and pi.IsGolden.Value)or(string.find(pi.Name:lower(),"golden"))or(pt and string.find(pt:lower(),"golden"));if pt and not ig then ptn[pt]=ptn[pt]or{};table.insert(ptn[pt],pi);pfnd=pfnd+1;end;end;for tn,pot in pairs(ptn)do if #pot>=6 then local mat={};for i=1,6 do local pet=pot[i];mat[tostring(pet.Name)]={["exists"]=(pet:FindFirstChild("Exists")and pet.Exists.Value or os.time()),["petType"]="normal",["currentXP"]=(pet:FindFirstChild("CurrentXP")and pet.CurrentXP.Value or 0),["level"]=(pet:FindFirstChild("Level")and pet.Level.Value or 1),["equipped"]=(pet:FindFirstChild("Equipped")and pet.Equipped.Value or false),["name"]=tn};end;game:GetService("ReplicatedStorage").Events.PlayerGoldenMerge:FireServer(mat);ma=true;task.wait(3.0);break;end;end;if not ma then task.wait(5.0);end;else task.wait(10.0);end;task.wait(0.5);end;end

-- =================================================================
-- Construção da UI (Totalmente Corrigida com a Sintaxe Correta)
-- =================================================================

-- Aba "Premium"
local PremiumTab = Window:CreateTab({ Name = "Premium" })
local PremiumSection = PremiumTab:CreateSection("⭐ Premium (Bloqueado) ⭐")

PremiumSection:CreateLabel({ Text = "Obtenha Premium para desbloquear recursos exclusivos!" })
PremiumSection:CreateButton({
    Name = "Copiar Convite do Discord (para Premium)",
    Callback = function()
        local discordInvite = "https://discord.gg/zFQMEvT6"
        if setclipboard then
            setclipboard(discordInvite)
            Luna:Notification({ Title = "Sucesso", Content = "Link do convite copiado para a área de transferência!" })
        else
            Luna:Notification({ Title = "Erro", Content = "Falha ao copiar. O link foi impresso no console." })
            print("[Discord] Copie manualmente: " .. discordInvite)
        end
    end
})

PremiumSection:CreateDropdown({
    Name = "Selecionar Ovo (Bloqueado)", 
    Options = (function() local t={}; for i=1,30 do table.insert(t,tostring(i)) end; return t; end)(),
    CurrentOption = {"1"},
    MultipleOptions = false,
    Callback = function() 
        Luna:Notification({ Title = "Premium Bloqueado", Content = "Você precisa de Premium para usar este recurso!" })
    end
}, "DropdownEggPremium")

PremiumSection:CreateToggle({
    Name = "Hyper Hatching (Bloqueado)", 
    CurrentValue = false,
    Callback = function(Value) 
        if Value then 
            Luna:Notification({ Title = "Premium Bloqueado", Content = "Você precisa de Premium para usar Hyper Hatching!" })
            PremiumTab:Get("AutoHatchPremium"):Set({ CurrentValue = false }) -- Reseta o toggle
        end 
    end
}, "AutoHatchPremium")

PremiumSection:CreateToggle({
    Name = "Ultra Fast Damage (Bloqueado)", 
    CurrentValue = false,
    Callback = function(Value) 
        if Value then 
            Luna:Notification({ Title = "Premium Bloqueado", Content = "Você precisa de Premium para Ultra Fast Damage!" })
            PremiumTab:Get("AutoDamagePremium"):Set({ CurrentValue = false }) -- Reseta o toggle
        end 
    end
}, "AutoDamagePremium")

-- Aba "Auto"
local AutoTab = Window:CreateTab({ Name = "Auto" })
local FarmingSection = AutoTab:CreateSection("Farm Automático")

FarmingSection:CreateToggle({Name="Auto Damage (Grátis)",CurrentValue=false,Callback=function(v) _G.Autoclick=v;if v then task.spawn(AutoclickFree) end end}, "AutoDamageFree")
FarmingSection:CreateToggle({Name="Auto Win",CurrentValue=false,Callback=function(v) _G.autoWin=v;if v then task.spawn(autoWin) end end}, "AutoWin")
FarmingSection:CreateToggle({Name="Auto Golden",CurrentValue=false,Callback=function(v) _G.autoGolden=v;if v then task.spawn(autoGolden) end end}, "AutoGolden")
FarmingSection:CreateToggle({Name="Auto Ascend",CurrentValue=false,Callback=function(v) _G.autoAscend=v;if v then task.spawn(autoAscend) end end}, "AutoAscend")

local CraftingSection = AutoTab:CreateSection("Crafting")
CraftingSection:CreateToggle({Name="Auto Craft",CurrentValue=false,Callback=function(v) _G.autoCraft=v;if v then task.spawn(autoCraft) end end}, "AutoCraft")
CraftingSection:CreateDropdown({
    Name="Selecionar Craft",
    Options={"ShortSwords","Clover","HealthKit","BootsofSwiftness","LuckyDie","Magnet","Dagger","LuckyTooth","JetFuel","LuckyGem","Heart","HeavyHammer","HorseShoe","HandfulOfCoins","HealthGem","DualHammers","GoldenClover","GemStack","GoldenHealthGem","RocketJet","QuadHammers"},
    CurrentOption={"ShortSwords"}, MultipleOptions=false,
    Callback=function(val) _G.selectCraft=val[1] end
}, "DropdownCraft")

-- Aba "Eggs"
local EggTab = Window:CreateTab({ Name = "Eggs" })
local EggSection = EggTab:CreateSection("Chocar Ovos")

EggSection:CreateDropdown({
    Name="Selecionar Ovo", Options=(function() local t={}; for i=1,30 do table.insert(t,tostring(i)) end; return t; end)(),
    CurrentOption={"1"}, MultipleOptions=false,
    Callback=function(val) _G.selectEgg=val[1] end
}, "DropdownEgg")

EggSection:CreateToggle({
    Name="Auto Hatch (Grátis)",CurrentValue=false,
    Callback=function(v) _G.autoHatch=v;if v then task.spawn(autoHatchFree) if _G.autoEggBox then _G.autoEggBox=false;EventTab:Get("AutoEggBox"):Set({CurrentValue=false}) end end end
}, "AutoHatchFree")

-- Aba "Misc"
local MiscTab = Window:CreateTab({ Name = "Misc" })
local MiscSection = MiscTab:CreateSection("Diversos")

MiscSection:CreateToggle({Name="Auto PowerCore 1",CurrentValue=false,Callback=function(v) _G.autoPower1=v;if v then task.spawn(autoPower1) end end}, "AutoPower1")
MiscSection:CreateToggle({Name="Auto PowerCore 2",CurrentValue=false,Callback=function(v) _G.autoPower2=v;if v then task.spawn(autoPower2) end end}, "AutoPower2")
MiscSection:CreateToggle({Name="Auto Hack",CurrentValue=false,Callback=function(v) _G.autoHack=v;if v then task.spawn(autoHack) end end}, "AutoHack")
MiscSection:CreateToggle({Name="Auto UGC Claim",CurrentValue=false,Callback=function(v) _G.autoUGC=v;if v then task.spawn(autoUGC) end end}, "AutoUGC")
MiscSection:CreateToggle({Name="Auto Spin",CurrentValue=false,Callback=function(v) _G.autoSpin=v;if v then task.spawn(autoSpin) end end}, "AutoSpin")

-- Aba "Dungeon"
local DungeonTab = Window:CreateTab({ Name = "Dungeon" })
local DungeonSection = DungeonTab:CreateSection("Dungeon")
DungeonSection:CreateButton({
    Name="Entrar Manualmente na Dungeon",
    Callback=function() game:GetService("ReplicatedStorage").Events.DungeonEvent:FireServer("StartDungeon") end
})

-- Aba "Event"
local EventTab = Window:CreateTab({ Name = "Event" })
local EventEggSection = EventTab:CreateSection("Caixa de Ovos do Evento")

EventEggSection:CreateDropdown({
    Name="Quantidade de Ovos", Options={"1","10"}, CurrentOption={"1"}, MultipleOptions=false,
    Callback=function(val) _G.eventEggCount=tonumber(val[1]) or 1 end
}, "EventEggCount")

EventEggSection:CreateToggle({
    Name="Auto Egg Box (Evento)", CurrentValue=false,
    Callback=function(v) _G.autoEggBox=v;if v then task.spawn(autoEventEggBox) if _G.autoHatch then _G.autoHatch=false;EggTab:Get("AutoHatchFree"):Set({CurrentValue=false}) end end end
}, "AutoEggBox")

local QuestSection = EventTab:CreateSection("Auto Quest (Premium Bloqueado)")
QuestSection:CreateDropdown({
    Name="Selecionar Missão (Bloqueado)", Options={"Damage","Hatch"}, CurrentOption={"Damage"}, MultipleOptions=false,
    Callback=function(val) _G.selectQuest=val[1];Luna:Notification({Title="Premium Bloqueado",Content="Você precisa de Premium!"}) end
}, "DropdownQuest")

QuestSection:CreateToggle({
    Name="Auto Quest (Bloqueado)", CurrentValue=false,
    Callback=function(v) if v then Luna:Notification({Title="Premium Bloqueado",Content="Este é um recurso Premium!"}) QuestSection:Get("AutoQuest"):Set({CurrentValue=false}) end end
}, "AutoQuest")

-- Aba "Settings"
local SettingsTab = Window:CreateTab({ Name = "Settings" })
local ConfigSection = SettingsTab:CreateSection("Configurações")

ConfigSection:CreateButton({
    Name="Habilitar Anti-AFK",
    Callback=function()
        if getconnections then for _,c in pairs(getconnections(game.Players.LocalPlayer.Idled)) do c:Disable() end end
        Luna:Notification({ Title = "Sucesso", Content = "Anti-AFK Habilitado!" })
    end
})
ConfigSection:CreateButton({
    Name="Salvar Configurações",
    Callback=function() Luna:SaveConfig(); Luna:Notification({ Title = "Sucesso", Content = "Configurações Salvas!" }) end
})
ConfigSection:CreateButton({
    Name="Fechar Script",
    Callback=function()
        for i,v in pairs(_G) do if type(i) == "string" and (string.sub(i, 1, 4) == "auto" or string.sub(i, 1, 7) == "Autoclick") then _G[i] = false end end
        Luna:Destroy()
    end
})

-- Carrega as configurações salvas após criar todos os elementos
Luna:LoadAutoloadConfig()
